{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nexport function getImages(input) {\n    const API_KEY = '48149972-37b948820d674e189867b2eae'\n    const BASE_URL = 'https://pixabay.com/api/'\n    const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: input,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 30\n})\n    return fetch(`${BASE_URL}?${searchParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json()\n    })\n}","export function galleryMarkup(arr) {\n    return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `<li class=\"cat-card\">\n        <div class=\"gallery\"><a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\"></a></div>\n        <ul class=\"cat-info\">\n            <li class=\"info-desk\">\n            <h1>Likes</h1>\n            <p>${likes}</p>\n            </li> \n            <li class=\"info-desk\">\n            <h1>Views</h1>\n            <p>${views}</p>\n            </li>\n            <li class=\"info-desk\">\n            <h1>Comments</h1>\n            <p>${comments}</p>\n            </li>\n            <li class=\"info-desk\">\n            <h1>Downloads</h1>\n            <p>${downloads}</p>\n            </li>\n        </ul>\n        </li>`).join('')\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getImages } from \"./js/pixabay-api\";\nimport { galleryMarkup } from \"./js/render-functions\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst refs = {\n    form: document.querySelector(\".js-form\"),\n    gallery: document.querySelector('.js-gallery'),\n    loader: document.querySelector('.loader')\n}\n\nrefs.form.addEventListener('submit', onSubmit);\n\nfunction onSubmit(evt) {\n    evt.preventDefault()\n    refs.gallery.innerHTML = '';\n    const inp = evt.currentTarget.elements[0].value.trim()\n    this.reset()\n    refs.loader.classList.remove('hidden')\n    getImages(inp)\n        .then((data) => {\n            if (data.total < 1) {\n                iziToast.show({\n                    message: 'ðŸš« Sorry, there are no images matching your search query. Please try again!',\n                    position: \"topRight\",\n                    timeout: 3000,\n                    backgroundColor: 'red',\n                    messageColor: 'white',\n                    progressBar: false,\n                    });\n            } else {\n                return refs.gallery.innerHTML = galleryMarkup(data.hits)\n            }\n\n        })\n        .then(() => gallerySLB.refresh())\n        .catch(err => console.log(err))\n        .finally(() => refs.loader.classList.add('hidden'))\n}\n\nlet gallerySLB = new SimpleLightbox('.gallery a', { captionsData: 'alt', captionDelay: 250, history: false })\n\n"],"names":["getImages","input","API_KEY","BASE_URL","searchParams","response","galleryMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","refs","onSubmit","evt","inp","data","iziToast","gallerySLB","err","SimpleLightbox"],"mappings":"6vBACO,SAASA,EAAUC,EAAO,CAC7B,MAAMC,EAAU,qCACVC,EAAW,2BACXC,EAAe,IAAI,gBAAgB,CACzC,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAC,EACG,OAAO,MAAM,GAAGE,CAAQ,IAAIC,CAAY,EAAE,EACrC,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,KAAM,CAClC,CAAK,CACL,CCnBO,SAASC,EAAcC,EAAK,CAC/B,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA,wCACzDL,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,iBAI7EC,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iBAIRC,CAAS;AAAA;AAAA;AAAA,cAGZ,EAAE,KAAK,EAAE,CACvB,CCfA,MAAMC,EAAO,CACT,KAAM,SAAS,cAAc,UAAU,EACvC,QAAS,SAAS,cAAc,aAAa,EAC7C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAQ,EAE7C,SAASA,EAASC,EAAK,CACnBA,EAAI,eAAgB,EACpBF,EAAK,QAAQ,UAAY,GACzB,MAAMG,EAAMD,EAAI,cAAc,SAAS,CAAC,EAAE,MAAM,KAAM,EACtD,KAAK,MAAO,EACZF,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrCf,EAAUkB,CAAG,EACR,KAAMC,GAAS,CACZ,GAAIA,EAAK,MAAQ,EACbC,EAAS,KAAK,CACV,QAAS,8EACT,SAAU,WACV,QAAS,IACT,gBAAiB,MACjB,aAAc,QACd,YAAa,EACjC,CAAqB,MAEL,QAAOL,EAAK,QAAQ,UAAYT,EAAca,EAAK,IAAI,CAGvE,CAAS,EACA,KAAK,IAAME,EAAW,SAAS,EAC/B,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAC7B,QAAQ,IAAMP,EAAK,OAAO,UAAU,IAAI,QAAQ,CAAC,CAC1D,CAEA,IAAIM,EAAa,IAAIE,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,IAAK,QAAS,EAAO,CAAA"}